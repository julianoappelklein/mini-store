<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mini Store - GitHub CDN Example</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 600px;
            margin: 50px auto;
            padding: 20px;
            text-align: center;
        }
        .counter {
            font-size: 3em;
            margin: 20px 0;
            color: #333;
        }
        button {
            font-size: 1.2em;
            padding: 10px 20px;
            margin: 0 10px;
            border: 2px solid #007acc;
            background: #007acc;
            color: white;
            border-radius: 5px;
            cursor: pointer;
        }
        .info {
            margin-top: 30px;
            padding: 20px;
            background: #f0f8ff;
            border-radius: 5px;
            border: 1px solid #007acc;
        }
    </style>
</head>
<body>
    <h1>Mini Store from GitHub CDN</h1>
    
    <div class="counter" id="counter">0</div>
    
    <button onclick="increment()">+</button>
    <button onclick="decrement()">-</button>
    <button onclick="reset()">Reset</button>
    
    <div class="info">
        <h3>ðŸš€ Loaded directly from GitHub!</h3>
        <p>This example uses Mini Store directly from GitHub via jsDelivr CDN.</p>
        <p><strong>No NPM, no build step, no bundler required!</strong></p>
        <p>Perfect for prototypes, demos, and simple projects.</p>
        <code>
            &lt;script src="https://cdn.jsdelivr.net/gh/yourusername/mini-store@latest/dist/mini-store.browser.min.js"&gt;&lt;/script&gt;
        </code>
    </div>

    <!-- Load Mini Store directly from GitHub via jsDelivr -->
    <!-- Replace 'yourusername' with your actual GitHub username -->
    <!-- <script src="https://cdn.jsdelivr.net/gh/yourusername/mini-store@latest/dist/mini-store.browser.min.js"></script> -->
    
    <!-- For local development, use the local build -->
    <script src="../dist/mini-store.browser.min.js"></script>
    
    <script>
        // MiniStore is now available globally on the window object
        const store = new MiniStore({ 
            count: 0,
            lastAction: 'initialized'
        });
        
        const counterEl = document.getElementById('counter');
        
        // Subscribe to count changes
        store.subscribe(
            (count) => {
                counterEl.textContent = count;
                console.log('Counter updated to:', count);
            },
            { selector: state => state.count }
        );
        
        // Subscribe to action tracking
        store.subscribe(
            (action) => {
                console.log('Last action:', action);
            },
            { 
                selector: state => state.lastAction,
                emitOnSubscribe: false 
            }
        );
        
        // Global functions for button clicks
        function increment() {
            store.update(state => ({
                count: state.count + 1,
                lastAction: 'increment'
            }));
        }
        
        function decrement() {
            store.update(state => ({
                count: Math.max(0, state.count - 1),
                lastAction: 'decrement'
            }));
        }
        
        function reset() {
            store.update({
                count: 0,
                lastAction: 'reset'
            });
        }
        
        console.log('Mini Store loaded from GitHub CDN!');
        console.log('Current state:', store.state);
    </script>
</body>
</html>
